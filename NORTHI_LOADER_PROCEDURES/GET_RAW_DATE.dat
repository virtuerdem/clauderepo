
  CREATE OR REPLACE EDITIONABLE PROCEDURE "NORTHI_LOADER"."GET_RAW_DATE" (XKPI_NAME VARCHAR2,XTABLE_NAME VARCHAR2, XVENDOR_ID VARCHAR2, IO_CUR OUT SYS_REFCURSOR )
AS
XFROM VARCHAR2(32000);
XWHERE VARCHAR2(32000);
XSELECT VARCHAR2(32000);
BEGIN
    SELECT FROM_CLAUSE,WHERE_CLAUSE INTO XFROM,XWHERE
    FROM NORTHI_LOADER.NORTHI_LOADER_SETTINGS A
    WHERE TABLE_NAME=XTABLE_NAME
    AND A.VENDOR_ID IN (XVENDOR_ID);
     
    --COUNTERLARDAN VE KPI DAN SELECT OLUSTURMA.
    FOR XFIELDS IN (
     select 'a' xcounter,'b' xcounter_name
     from dual
    )
    LOOP
        XSELECT :=XSELECT ||XFIELDS.XCOUNTER||' '||XFIELDS.xCOUNTER_NAME;
    END LOOP;
    
END;
/
